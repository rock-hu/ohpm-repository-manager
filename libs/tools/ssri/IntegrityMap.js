"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IntegrityMap=void 0;const t=require("./SsriOption");exports.IntegrityMap=class{constructor(){this.algoMap=new Map}put(t,e){const s=this.get(t);s.push(e),this.algoMap.set(t,s)}get(t){const e=this.algoMap.get(t);return e||[]}getIntegrity(t){let e;e=0===this.algoMap.size?"":1===this.algoMap.size?this.getMapKeys()[0]:this.pickAlgorithm();const s=this.get(e);return s?s[0].toString():""}pickAlgorithm(e){const s=(e=t.Opts.mergeWithDefaultOpts(e)).pickAlgorithm;return this.getMapKeys().reduce(((t,e)=>s(t,e)||t))}getMapKeys(){const t=[];return this.algoMap.forEach(((e,s)=>{t.push(s)})),t}};
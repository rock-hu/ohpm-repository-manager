"use strict";var r=this&&this.__awaiter||function(r,e,o,i){return new(o||(o=Promise))((function(t,n){function u(r){try{s(i.next(r))}catch(r){n(r)}}function a(r){try{s(i.throw(r))}catch(r){n(r)}}function s(r){var e;r.done?t(r.value):(e=r.value,e instanceof o?e:new o((function(r){r(e)}))).then(u,a)}s((i=i.apply(r,e||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.loginFailureRepository=void 0;const e=require("../../common/DbFactory"),o=require("../../common/RepoError"),i=require("../../common"),t=require("../../packages/definitions/types");exports.loginFailureRepository=new class{constructor(){this.TABLE_NAME="loginFailure"}insert(t){return r(this,void 0,void 0,(function*(){try{return e.commonDB.insertOne(this.TABLE_NAME,t,!0)}catch(r){throw new o.RepoServerError(i.ErrorCode.SaveLoginFailureError,"Fail to insert LoginFailure!",r)}}))}findByFilter(n,u){return r(this,void 0,void 0,(function*(){try{return e.commonDB.findByFilter(this.TABLE_NAME,{orderBy:{keyList:["failedTime"],orderList:[t.OrderType.DESC]},pageQuery:{pageNum:n,pageSize:u}})}catch(r){throw new o.RepoServerError(i.ErrorCode.FindLoginFailureListError,"Fail to get loginFailureList!",r)}}))}};
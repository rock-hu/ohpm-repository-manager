"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Utils=void 0;const e=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],r=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,0,0,0,0,1,0,1,0,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,0,1,0,0,0,0,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1],l={utf8:(e,t)=>{if(0===e.length)return"";if("string"==typeof e){if(t<2)return e;e=Buffer.from(e,"latin1")}return e.utf8Slice(0,e.length)},latin1:e=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,"latin1")),e.latin1Slice(0,e.length)),utf16le:e=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,"latin1")),e.ucs2Slice(0,e.length)),base64:e=>0===e.length?"":("string"==typeof e&&(e=Buffer.from(e,"latin1")),e.base64Slice(0,e.length)),other:e=>{if(0===e.length)return"";"string"==typeof e&&(e=Buffer.from(e,"latin1"));try{return new TextDecoder(this).decode(e)}catch(e){return""}}};function o(e,t){for(;t<e.length;++t){const r=e.charCodeAt(t);if(32!==r&&9!==r)break}if(t===e.length)return-1;if(59===e.charCodeAt(t++)){for(;t<e.length;++t){const r=e.charCodeAt(t);if(32!==r&&9!==r)break}return t===e.length?-1:t}}function u(t,r){const n=r;for(;r<t.length;++r){const n=t.charCodeAt(r);if(1!==e[n]){if(61!==n)return null;break}}if(r===t.length)return null;return{name:t.slice(n,r),i:r}}function f(r,n){let i,l="";if(34===r.charCodeAt(n)){const e=function(e,r){let n="",i=++r,l=!1;for(;r<e.length;++r){const o=e.charCodeAt(r);if(92!==o){if(34===o){if(l){i=r,l=!1;continue}n+=e.slice(i,r);break}if(l&&(i=r-1,l=!1),1!==t[o])return null}else l?(i=r,l=!1):(n+=e.slice(i,r),l=!0)}return{value:n,i:r}}(r,n);if(null===e)return null;l=e.value,n=e.i,++n}else{for(i=n;n<r.length;++n){const t=r.charCodeAt(n);if(1!==e[t]){if(n===i)return null;break}}l=r.slice(i,n)}return{value:l,i:n}}function c(e,t,r){for(;t<e.length;){if(!(t=o(e,t)))return;if(-1===t)break;const n=u(e,t);if(null===n)return;let i=n.name;if(t=n.i,++t===e.length)return;const l=f(e,t);if(null===l)return;const c=l.value;t=l.i,i=i.toLowerCase(),void 0===r[i]&&(r[i]=c)}return r}function s(e,t){let l="";const o=++t;for(;t<e.length;++t){const n=e.charCodeAt(t);if(1!==r[n]){if(39!==n)return null;break}}if(t===e.length)return null;for(l=e.slice(o,t),++t;t<e.length;++t){if(39===e.charCodeAt(t))break}if(t===e.length)return null;if(++t===e.length)return null;const u=function(e,t,r){let l="",o=t,u=0;for(;t<e.length;++t){const r=e.charCodeAt(t);if(1===n[r])continue;if(37!==r)break;let f,c;if(!(t+2<e.length&&-1!==(f=i[e.charCodeAt(t+1)])&&-1!==(c=i[e.charCodeAt(t+2)])))return null;{const r=(f<<4)+c;l+=e.slice(o,t),l+=String.fromCharCode(r),o=(t+=2)+1,r>=128?u=2:0===u&&(u=1)}}return l+=e.slice(o,t),l=g(l,r,u),void 0===l?null:l}(e,t,l);return null===u?null:{value:u,i:t}}function a(e,t,r,n){for(;t<e.length;){if(!(t=o(e,t)))return;if(-1===t)break;const i=u(e,t);if(null===i)return;let l=i.name;t=i.i;let c="";if(42===l.charCodeAt(l.length-1)){const r=s(e,t);if(null===r)return;c=r.value,t=r.i}else{if(++t===e.length)return;const r=f(e,t);if(null===r)return;if(c=r.value,t=r.i,c=n(c,2),void 0===c)return}l=l.toLowerCase(),void 0===r[l]&&(r[l]=c)}return t}function h(e,t){switch(e){case"utf-8":case"utf8":return l.utf8;case"latin1":case"ascii":case"us-ascii":case"iso-8859-1":case"iso8859-1":case"iso88591":case"iso_8859-1":case"windows-1252":case"iso_8859-1:1987":case"cp1252":case"x-cp1252":return l.latin1;case"utf16le":case"utf-16le":case"ucs2":case"ucs-2":return l.utf16le;case"base64":return l.base64;default:return void 0===t?(t=!0,h(e=e.toLowerCase(),t)):l.other.bind(e)}}function g(e,t,r){const n=h(t);if(n)return n(e,r)}exports.Utils={TOKEN:e,HEX_VALUES:i,FIELD_VCHAR:[0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],basename:function(e){if("string"!=typeof e)return"";for(let t=e.length-1;t>=0;--t)switch(e.charCodeAt(t)){case 47:case 92:return".."===(e=e.slice(t+1))||"."===e?"":e}return".."===e||"."===e?"":e},convertToUTF8:g,getDecoder:h,parseContentType:function(t){if(0===t.length)return;let r=0;for(;r<t.length;++r){const n=t.charCodeAt(r);if(1!==e[n]){if(47!==n||0===r)return;break}}if(r===t.length)return;const n=Object.create(null),i=t.slice(0,r).toLowerCase(),l=++r;for(;r<t.length;++r){const i=t.charCodeAt(r);if(1!==e[i]){if(r===l)return;if(void 0===c(t,r,n))return;break}}if(r===l)return;return{type:i,subtype:t.slice(l,r).toLowerCase(),params:n}},parseDisposition:function(t,r){if(0===t.length)return{};const n=Object.create(null);let i=0;for(;i<t.length;++i){const l=t.charCodeAt(i);if(1!==e[l]){if(a(t,i,n,r))break;return{}}}return{type:t.slice(0,i).toLowerCase(),params:n}}};
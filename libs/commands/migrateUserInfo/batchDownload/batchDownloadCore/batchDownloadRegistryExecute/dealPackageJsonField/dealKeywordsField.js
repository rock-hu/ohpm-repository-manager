"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dealKeywordsField=void 0;const e=require("../../../../common/repoDefaultVaildConfFunctions"),t=require("../../../../../../service/validator/rule"),r=require("./getAttrNameFirstKey"),i=require("./printChangeWarnLog");exports.dealKeywordsField=function(n,o,a){const l=(0,r.getAttrNameFirstKey)(n),s=(0,e.getRuleContentFromValidConf)(n,t.ValidationRuleType.LengthLimit),d=(0,e.getRuleContentFromValidConf)(n,t.ValidationRuleType.ListItemLengthLimit),u=s.maxLength,g=d.minLength,m=d.maxLength;if(!a[l])return;if(!Array.isArray(a[l]))return void delete a[l];const y=JSON.parse(JSON.stringify(a[l])),c=new Map;for(let e=0;e<a[l].length;e++){let t=a[l][e];c.has(t)||(t=t.slice(0,m),t.length<g||c.set(t,e))}a[l]=Array.from(c.keys()),a[l]=a[l].slice(0,u),(0,i.printChangeWarnLog)(o,n,y,a[l])};
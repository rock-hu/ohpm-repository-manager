"use strict";var e=this&&this.__awaiter||function(e,i,r,n){return new(r||(r=Promise))((function(t,u){function c(e){try{o(n.next(e))}catch(e){u(e)}}function s(e){try{o(n.throw(e))}catch(e){u(e)}}function o(e){var i;e.done?t(e.value):(i=e.value,i instanceof r?i:new r((function(e){e(i)}))).then(c,s)}o((n=n.apply(e,i||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.keyManager=void 0;const i=require("./OhUserInfo"),r=require("../../user/UserService"),n=require("../../publicKeyAuth/PublicKeyService");exports.keyManager=new class{getPublicKeys(i){return e(this,void 0,void 0,(function*(){return(yield n.publicKeyService.getPublicKeysByPublishId(i)).map((e=>e.publicKey))}))}getUserInfo(n){return e(this,void 0,void 0,(function*(){const e=yield r.userService.findByPublishId(n);return new i.OhUserInfo({id:e.id,name:e.name,publishId:e.publishId})}))}verifySign(e,i,r){return n.publicKeyService.verifySign(e,i,r)}};